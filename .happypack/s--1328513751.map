{"version":3,"sources":["node_modules/rc-animate/lib/Animate.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_react","require","_react2","_interopRequireDefault","_ChildrenUtils","_AnimateChild","_AnimateChild2","_util","_util2","obj","__esModule","_defineProperty","enumerable","configurable","writable","defaultKey","Date","now","getChildrenFromProps","props","children","isValidElement","cloneElement","noop","Animate","createClass","displayName","propTypes","component","PropTypes","any","componentProps","object","animation","transitionName","oneOfType","string","transitionEnter","bool","transitionAppear","exclusive","transitionLeave","onEnd","func","onEnter","onLeave","onAppear","showProp","getDefaultProps","getInitialState","currentlyAnimatingKeys","keysToEnter","keysToLeave","toArrayChildren","componentDidMount","_this","state","filter","child","forEach","performAppear","componentWillReceiveProps","nextProps","_this2","nextChildren","keys","stop","currentChildren","newChildren","currentChild","nextChild","findChildInChildrenByKey","newChild","push","mergeChildren","setState","hasPrev","showInNext","showInNow","findShownChildInChildrenByKey","hasNext","componentDidUpdate","performEnter","performLeave","refs","componentWillEnter","handleDoneAdding","bind","componentWillAppear","type","isValidChildByKey","allowAppearCallback","allowEnterCallback","componentWillLeave","handleDoneLeaving","end","allowLeaveCallback","isMounted","isSameChildren","render","stateChildren","map","undefined","Error","createElement","ref","Component","passedProps","className","style","module"],"mappings":"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","file":"Animate.js","sourceRoot":"/Users/creator/workspace/furuida","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _ChildrenUtils = require('./ChildrenUtils');\n\nvar _AnimateChild = require('./AnimateChild');\n\nvar _AnimateChild2 = _interopRequireDefault(_AnimateChild);\n\nvar _util = require('./util');\n\nvar _util2 = _interopRequireDefault(_util);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar defaultKey = 'rc_animate_' + Date.now();\n\n\nfunction getChildrenFromProps(props) {\n  var children = props.children;\n  if (_react2[\"default\"].isValidElement(children)) {\n    if (!children.key) {\n      return _react2[\"default\"].cloneElement(children, {\n        key: defaultKey\n      });\n    }\n  }\n  return children;\n}\n\nfunction noop() {}\n\nvar Animate = _react2[\"default\"].createClass({\n  displayName: 'Animate',\n\n  propTypes: {\n    component: _react2[\"default\"].PropTypes.any,\n    componentProps: _react2[\"default\"].PropTypes.object,\n    animation: _react2[\"default\"].PropTypes.object,\n    transitionName: _react2[\"default\"].PropTypes.oneOfType([_react2[\"default\"].PropTypes.string, _react2[\"default\"].PropTypes.object]),\n    transitionEnter: _react2[\"default\"].PropTypes.bool,\n    transitionAppear: _react2[\"default\"].PropTypes.bool,\n    exclusive: _react2[\"default\"].PropTypes.bool,\n    transitionLeave: _react2[\"default\"].PropTypes.bool,\n    onEnd: _react2[\"default\"].PropTypes.func,\n    onEnter: _react2[\"default\"].PropTypes.func,\n    onLeave: _react2[\"default\"].PropTypes.func,\n    onAppear: _react2[\"default\"].PropTypes.func,\n    showProp: _react2[\"default\"].PropTypes.string\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      animation: {},\n      component: 'span',\n      componentProps: {},\n      transitionEnter: true,\n      transitionLeave: true,\n      transitionAppear: false,\n      onEnd: noop,\n      onEnter: noop,\n      onLeave: noop,\n      onAppear: noop\n    };\n  },\n  getInitialState: function getInitialState() {\n    this.currentlyAnimatingKeys = {};\n    this.keysToEnter = [];\n    this.keysToLeave = [];\n    return {\n      children: (0, _ChildrenUtils.toArrayChildren)(getChildrenFromProps(this.props))\n    };\n  },\n  componentDidMount: function componentDidMount() {\n    var _this = this;\n\n    var showProp = this.props.showProp;\n    var children = this.state.children;\n    if (showProp) {\n      children = children.filter(function (child) {\n        return !!child.props[showProp];\n      });\n    }\n    children.forEach(function (child) {\n      if (child) {\n        _this.performAppear(child.key);\n      }\n    });\n  },\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    var _this2 = this;\n\n    this.nextProps = nextProps;\n    var nextChildren = (0, _ChildrenUtils.toArrayChildren)(getChildrenFromProps(nextProps));\n    var props = this.props;\n    // exclusive needs immediate response\n    if (props.exclusive) {\n      Object.keys(this.currentlyAnimatingKeys).forEach(function (key) {\n        _this2.stop(key);\n      });\n    }\n    var showProp = props.showProp;\n    var currentlyAnimatingKeys = this.currentlyAnimatingKeys;\n    // last props children if exclusive\n    var currentChildren = props.exclusive ? (0, _ChildrenUtils.toArrayChildren)(getChildrenFromProps(props)) : this.state.children;\n    // in case destroy in showProp mode\n    var newChildren = [];\n    if (showProp) {\n      currentChildren.forEach(function (currentChild) {\n        var nextChild = currentChild && (0, _ChildrenUtils.findChildInChildrenByKey)(nextChildren, currentChild.key);\n        var newChild = void 0;\n        if ((!nextChild || !nextChild.props[showProp]) && currentChild.props[showProp]) {\n          newChild = _react2[\"default\"].cloneElement(nextChild || currentChild, _defineProperty({}, showProp, true));\n        } else {\n          newChild = nextChild;\n        }\n        if (newChild) {\n          newChildren.push(newChild);\n        }\n      });\n      nextChildren.forEach(function (nextChild) {\n        if (!nextChild || !(0, _ChildrenUtils.findChildInChildrenByKey)(currentChildren, nextChild.key)) {\n          newChildren.push(nextChild);\n        }\n      });\n    } else {\n      newChildren = (0, _ChildrenUtils.mergeChildren)(currentChildren, nextChildren);\n    }\n\n    // need render to avoid update\n    this.setState({\n      children: newChildren\n    });\n\n    nextChildren.forEach(function (child) {\n      var key = child && child.key;\n      if (child && currentlyAnimatingKeys[key]) {\n        return;\n      }\n      var hasPrev = child && (0, _ChildrenUtils.findChildInChildrenByKey)(currentChildren, key);\n      if (showProp) {\n        var showInNext = child.props[showProp];\n        if (hasPrev) {\n          var showInNow = (0, _ChildrenUtils.findShownChildInChildrenByKey)(currentChildren, key, showProp);\n          if (!showInNow && showInNext) {\n            _this2.keysToEnter.push(key);\n          }\n        } else if (showInNext) {\n          _this2.keysToEnter.push(key);\n        }\n      } else if (!hasPrev) {\n        _this2.keysToEnter.push(key);\n      }\n    });\n\n    currentChildren.forEach(function (child) {\n      var key = child && child.key;\n      if (child && currentlyAnimatingKeys[key]) {\n        return;\n      }\n      var hasNext = child && (0, _ChildrenUtils.findChildInChildrenByKey)(nextChildren, key);\n      if (showProp) {\n        var showInNow = child.props[showProp];\n        if (hasNext) {\n          var showInNext = (0, _ChildrenUtils.findShownChildInChildrenByKey)(nextChildren, key, showProp);\n          if (!showInNext && showInNow) {\n            _this2.keysToLeave.push(key);\n          }\n        } else if (showInNow) {\n          _this2.keysToLeave.push(key);\n        }\n      } else if (!hasNext) {\n        _this2.keysToLeave.push(key);\n      }\n    });\n  },\n  componentDidUpdate: function componentDidUpdate() {\n    var keysToEnter = this.keysToEnter;\n    this.keysToEnter = [];\n    keysToEnter.forEach(this.performEnter);\n    var keysToLeave = this.keysToLeave;\n    this.keysToLeave = [];\n    keysToLeave.forEach(this.performLeave);\n  },\n  performEnter: function performEnter(key) {\n    // may already remove by exclusive\n    if (this.refs[key]) {\n      this.currentlyAnimatingKeys[key] = true;\n      this.refs[key].componentWillEnter(this.handleDoneAdding.bind(this, key, 'enter'));\n    }\n  },\n  performAppear: function performAppear(key) {\n    if (this.refs[key]) {\n      this.currentlyAnimatingKeys[key] = true;\n      this.refs[key].componentWillAppear(this.handleDoneAdding.bind(this, key, 'appear'));\n    }\n  },\n  handleDoneAdding: function handleDoneAdding(key, type) {\n    var props = this.props;\n    delete this.currentlyAnimatingKeys[key];\n    // if update on exclusive mode, skip check\n    if (props.exclusive && props !== this.nextProps) {\n      return;\n    }\n    var currentChildren = (0, _ChildrenUtils.toArrayChildren)(getChildrenFromProps(props));\n    if (!this.isValidChildByKey(currentChildren, key)) {\n      // exclusive will not need this\n      this.performLeave(key);\n    } else {\n      if (type === 'appear') {\n        if (_util2[\"default\"].allowAppearCallback(props)) {\n          props.onAppear(key);\n          props.onEnd(key, true);\n        }\n      } else {\n        if (_util2[\"default\"].allowEnterCallback(props)) {\n          props.onEnter(key);\n          props.onEnd(key, true);\n        }\n      }\n    }\n  },\n  performLeave: function performLeave(key) {\n    // may already remove by exclusive\n    if (this.refs[key]) {\n      this.currentlyAnimatingKeys[key] = true;\n      this.refs[key].componentWillLeave(this.handleDoneLeaving.bind(this, key));\n    }\n  },\n  handleDoneLeaving: function handleDoneLeaving(key) {\n    var props = this.props;\n    delete this.currentlyAnimatingKeys[key];\n    // if update on exclusive mode, skip check\n    if (props.exclusive && props !== this.nextProps) {\n      return;\n    }\n    var currentChildren = (0, _ChildrenUtils.toArrayChildren)(getChildrenFromProps(props));\n    // in case state change is too fast\n    if (this.isValidChildByKey(currentChildren, key)) {\n      this.performEnter(key);\n    } else {\n      var end = function end() {\n        if (_util2[\"default\"].allowLeaveCallback(props)) {\n          props.onLeave(key);\n          props.onEnd(key, false);\n        }\n      };\n      /* eslint react/no-is-mounted:0 */\n      if (this.isMounted() && !(0, _ChildrenUtils.isSameChildren)(this.state.children, currentChildren, props.showProp)) {\n        this.setState({\n          children: currentChildren\n        }, end);\n      } else {\n        end();\n      }\n    }\n  },\n  isValidChildByKey: function isValidChildByKey(currentChildren, key) {\n    var showProp = this.props.showProp;\n    if (showProp) {\n      return (0, _ChildrenUtils.findShownChildInChildrenByKey)(currentChildren, key, showProp);\n    }\n    return (0, _ChildrenUtils.findChildInChildrenByKey)(currentChildren, key);\n  },\n  stop: function stop(key) {\n    delete this.currentlyAnimatingKeys[key];\n    var component = this.refs[key];\n    if (component) {\n      component.stop();\n    }\n  },\n  render: function render() {\n    var props = this.props;\n    this.nextProps = props;\n    var stateChildren = this.state.children;\n    var children = null;\n    if (stateChildren) {\n      children = stateChildren.map(function (child) {\n        if (child === null || child === undefined) {\n          return child;\n        }\n        if (!child.key) {\n          throw new Error('must set key for <rc-animate> children');\n        }\n        return _react2[\"default\"].createElement(\n          _AnimateChild2[\"default\"],\n          {\n            key: child.key,\n            ref: child.key,\n            animation: props.animation,\n            transitionName: props.transitionName,\n            transitionEnter: props.transitionEnter,\n            transitionAppear: props.transitionAppear,\n            transitionLeave: props.transitionLeave\n          },\n          child\n        );\n      });\n    }\n    var Component = props.component;\n    if (Component) {\n      var passedProps = props;\n      if (typeof Component === 'string') {\n        passedProps = _extends({\n          className: props.className,\n          style: props.style\n        }, props.componentProps);\n      }\n      return _react2[\"default\"].createElement(\n        Component,\n        passedProps,\n        children\n      );\n    }\n    return children[0] || null;\n  }\n});\n\nexports[\"default\"] = Animate;\nmodule.exports = exports['default'];"]}