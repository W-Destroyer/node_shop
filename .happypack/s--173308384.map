{"version":3,"sources":["node_modules/history/lib/useQueries.js"],"names":["exports","__esModule","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_queryString","require","_runTransitionHook","_runTransitionHook2","_interopRequireDefault","_LocationUtils","_PathUtils","obj","default","defaultStringifyQuery","query","stringify","replace","defaultParseQueryString","parse","useQueries","createHistory","options","undefined","history","stringifyQuery","parseQueryString","decodeQuery","location","search","substring","encodeQuery","object","parsePath","queryString","getCurrentLocation","listenBefore","hook","callback","listen","listener","push","createPath","createHref","createLocation","_len","args","Array","_key","newLocation","apply","concat","createQuery"],"mappings":"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","file":"useQueries.js","sourceRoot":"/Users/creator/workspace/furuida","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _queryString = require('query-string');\n\nvar _runTransitionHook = require('./runTransitionHook');\n\nvar _runTransitionHook2 = _interopRequireDefault(_runTransitionHook);\n\nvar _LocationUtils = require('./LocationUtils');\n\nvar _PathUtils = require('./PathUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar defaultStringifyQuery = function defaultStringifyQuery(query) {\n  return (0, _queryString.stringify)(query).replace(/%20/g, '+');\n};\n\nvar defaultParseQueryString = _queryString.parse;\n\n/**\n * Returns a new createHistory function that may be used to create\n * history objects that know how to handle URL queries.\n */\nvar useQueries = function useQueries(createHistory) {\n  return function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var history = createHistory(options);\n    var stringifyQuery = options.stringifyQuery,\n        parseQueryString = options.parseQueryString;\n\n\n    if (typeof stringifyQuery !== 'function') stringifyQuery = defaultStringifyQuery;\n\n    if (typeof parseQueryString !== 'function') parseQueryString = defaultParseQueryString;\n\n    var decodeQuery = function decodeQuery(location) {\n      if (!location) return location;\n\n      if (location.query == null) location.query = parseQueryString(location.search.substring(1));\n\n      return location;\n    };\n\n    var encodeQuery = function encodeQuery(location, query) {\n      if (query == null) return location;\n\n      var object = typeof location === 'string' ? (0, _PathUtils.parsePath)(location) : location;\n      var queryString = stringifyQuery(query);\n      var search = queryString ? '?' + queryString : '';\n\n      return _extends({}, object, {\n        search: search\n      });\n    };\n\n    // Override all read methods with query-aware versions.\n    var getCurrentLocation = function getCurrentLocation() {\n      return decodeQuery(history.getCurrentLocation());\n    };\n\n    var listenBefore = function listenBefore(hook) {\n      return history.listenBefore(function (location, callback) {\n        return (0, _runTransitionHook2.default)(hook, decodeQuery(location), callback);\n      });\n    };\n\n    var listen = function listen(listener) {\n      return history.listen(function (location) {\n        return listener(decodeQuery(location));\n      });\n    };\n\n    // Override all write methods with query-aware versions.\n    var push = function push(location) {\n      return history.push(encodeQuery(location, location.query));\n    };\n\n    var replace = function replace(location) {\n      return history.replace(encodeQuery(location, location.query));\n    };\n\n    var createPath = function createPath(location) {\n      return history.createPath(encodeQuery(location, location.query));\n    };\n\n    var createHref = function createHref(location) {\n      return history.createHref(encodeQuery(location, location.query));\n    };\n\n    var createLocation = function createLocation(location) {\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      var newLocation = history.createLocation.apply(history, [encodeQuery(location, location.query)].concat(args));\n\n      if (location.query) newLocation.query = (0, _LocationUtils.createQuery)(location.query);\n\n      return decodeQuery(newLocation);\n    };\n\n    return _extends({}, history, {\n      getCurrentLocation: getCurrentLocation,\n      listenBefore: listenBefore,\n      listen: listen,\n      push: push,\n      replace: replace,\n      createPath: createPath,\n      createHref: createHref,\n      createLocation: createLocation\n    });\n  };\n};\n\nexports.default = useQueries;"]}