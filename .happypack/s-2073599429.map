{"version":3,"sources":["node_modules/rc-trigger/lib/Popup.js"],"names":["Object","defineProperty","exports","value","_extends2","require","_extends3","_interopRequireDefault","_react","_react2","_reactDom","_reactDom2","_rcAlign","_rcAlign2","_rcAnimate","_rcAnimate2","_PopupInner","_PopupInner2","_LazyRenderBox","_LazyRenderBox2","obj","__esModule","Popup","createClass","displayName","propTypes","visible","PropTypes","bool","style","object","getClassNameFromAlign","func","onAlign","getRootDomNode","onMouseEnter","align","any","destroyPopupOnHide","className","string","prefixCls","onMouseLeave","componentDidMount","rootNode","getPopupDomNode","popupDomNode","props","alignClassName","currentAlignClassName","getClassName","findDOMNode","refs","popup","getTarget","getMaskTransitionName","transitionName","maskTransitionName","animation","maskAnimation","getTransitionName","getPopupElement","hiddenClassName","newStyle","getZIndexStyle","popupInnerProps","ref","createElement","component","exclusive","transitionAppear","target","key","saveAlign","monitorWindowResize","children","showProp","xVisible","childrenProps","disabled","zIndex","undefined","getMaskElement","maskElement","mask","maskTransition","alignInstance","render","module"],"mappings":"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","file":"Popup.js","sourceRoot":"/Users/creator/workspace/furuida","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _rcAlign = require('rc-align');\n\nvar _rcAlign2 = _interopRequireDefault(_rcAlign);\n\nvar _rcAnimate = require('rc-animate');\n\nvar _rcAnimate2 = _interopRequireDefault(_rcAnimate);\n\nvar _PopupInner = require('./PopupInner');\n\nvar _PopupInner2 = _interopRequireDefault(_PopupInner);\n\nvar _LazyRenderBox = require('./LazyRenderBox');\n\nvar _LazyRenderBox2 = _interopRequireDefault(_LazyRenderBox);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar Popup = _react2[\"default\"].createClass({\n  displayName: 'Popup',\n\n  propTypes: {\n    visible: _react.PropTypes.bool,\n    style: _react.PropTypes.object,\n    getClassNameFromAlign: _react.PropTypes.func,\n    onAlign: _react.PropTypes.func,\n    getRootDomNode: _react.PropTypes.func,\n    onMouseEnter: _react.PropTypes.func,\n    align: _react.PropTypes.any,\n    destroyPopupOnHide: _react.PropTypes.bool,\n    className: _react.PropTypes.string,\n    prefixCls: _react.PropTypes.string,\n    onMouseLeave: _react.PropTypes.func\n  },\n\n  componentDidMount: function componentDidMount() {\n    this.rootNode = this.getPopupDomNode();\n  },\n  onAlign: function onAlign(popupDomNode, align) {\n    var props = this.props;\n    var alignClassName = props.getClassNameFromAlign(props.align);\n    var currentAlignClassName = props.getClassNameFromAlign(align);\n    if (alignClassName !== currentAlignClassName) {\n      this.currentAlignClassName = currentAlignClassName;\n      popupDomNode.className = this.getClassName(currentAlignClassName);\n    }\n    props.onAlign(popupDomNode, align);\n  },\n  getPopupDomNode: function getPopupDomNode() {\n    return _reactDom2[\"default\"].findDOMNode(this.refs.popup);\n  },\n  getTarget: function getTarget() {\n    return this.props.getRootDomNode();\n  },\n  getMaskTransitionName: function getMaskTransitionName() {\n    var props = this.props;\n    var transitionName = props.maskTransitionName;\n    var animation = props.maskAnimation;\n    if (!transitionName && animation) {\n      transitionName = props.prefixCls + '-' + animation;\n    }\n    return transitionName;\n  },\n  getTransitionName: function getTransitionName() {\n    var props = this.props;\n    var transitionName = props.transitionName;\n    if (!transitionName && props.animation) {\n      transitionName = props.prefixCls + '-' + props.animation;\n    }\n    return transitionName;\n  },\n  getClassName: function getClassName(currentAlignClassName) {\n    return this.props.prefixCls + ' ' + this.props.className + ' ' + currentAlignClassName;\n  },\n  getPopupElement: function getPopupElement() {\n    var props = this.props;\n    var align = props.align,\n        style = props.style,\n        visible = props.visible,\n        prefixCls = props.prefixCls,\n        destroyPopupOnHide = props.destroyPopupOnHide;\n\n    var className = this.getClassName(this.currentAlignClassName || props.getClassNameFromAlign(align));\n    var hiddenClassName = prefixCls + '-hidden';\n    if (!visible) {\n      this.currentAlignClassName = null;\n    }\n    var newStyle = (0, _extends3[\"default\"])({}, style, this.getZIndexStyle());\n    var popupInnerProps = {\n      className: className,\n      prefixCls: prefixCls,\n      ref: 'popup',\n      onMouseEnter: props.onMouseEnter,\n      onMouseLeave: props.onMouseLeave,\n      style: newStyle\n    };\n    if (destroyPopupOnHide) {\n      return _react2[\"default\"].createElement(\n        _rcAnimate2[\"default\"],\n        {\n          component: '',\n          exclusive: true,\n          transitionAppear: true,\n          transitionName: this.getTransitionName()\n        },\n        visible ? _react2[\"default\"].createElement(\n          _rcAlign2[\"default\"],\n          {\n            target: this.getTarget,\n            key: 'popup',\n            ref: this.saveAlign,\n            monitorWindowResize: true,\n            align: align,\n            onAlign: this.onAlign\n          },\n          _react2[\"default\"].createElement(\n            _PopupInner2[\"default\"],\n            (0, _extends3[\"default\"])({\n              visible: true\n            }, popupInnerProps),\n            props.children\n          )\n        ) : null\n      );\n    }\n    return _react2[\"default\"].createElement(\n      _rcAnimate2[\"default\"],\n      {\n        component: '',\n        exclusive: true,\n        transitionAppear: true,\n        transitionName: this.getTransitionName(),\n        showProp: 'xVisible'\n      },\n      _react2[\"default\"].createElement(\n        _rcAlign2[\"default\"],\n        {\n          target: this.getTarget,\n          key: 'popup',\n          ref: this.saveAlign,\n          monitorWindowResize: true,\n          xVisible: visible,\n          childrenProps: { visible: 'xVisible' },\n          disabled: !visible,\n          align: align,\n          onAlign: this.onAlign\n        },\n        _react2[\"default\"].createElement(\n          _PopupInner2[\"default\"],\n          (0, _extends3[\"default\"])({\n            hiddenClassName: hiddenClassName\n          }, popupInnerProps),\n          props.children\n        )\n      )\n    );\n  },\n  getZIndexStyle: function getZIndexStyle() {\n    var style = {};\n    var props = this.props;\n    if (props.zIndex !== undefined) {\n      style.zIndex = props.zIndex;\n    }\n    return style;\n  },\n  getMaskElement: function getMaskElement() {\n    var props = this.props;\n    var maskElement = void 0;\n    if (props.mask) {\n      var maskTransition = this.getMaskTransitionName();\n      maskElement = _react2[\"default\"].createElement(_LazyRenderBox2[\"default\"], {\n        style: this.getZIndexStyle(),\n        key: 'mask',\n        className: props.prefixCls + '-mask',\n        hiddenClassName: props.prefixCls + '-mask-hidden',\n        visible: props.visible\n      });\n      if (maskTransition) {\n        maskElement = _react2[\"default\"].createElement(\n          _rcAnimate2[\"default\"],\n          {\n            key: 'mask',\n            showProp: 'visible',\n            transitionAppear: true,\n            component: '',\n            transitionName: maskTransition\n          },\n          maskElement\n        );\n      }\n    }\n    return maskElement;\n  },\n  saveAlign: function saveAlign(align) {\n    this.alignInstance = align;\n  },\n  render: function render() {\n    return _react2[\"default\"].createElement(\n      'div',\n      null,\n      this.getMaskElement(),\n      this.getPopupElement()\n    );\n  }\n});\n\nexports[\"default\"] = Popup;\nmodule.exports = exports['default'];"]}