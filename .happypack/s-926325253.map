{"version":3,"sources":["public/src/js/containers/App.jsx"],"names":["App","props","dispatch","visibleTodos","visibilityFilter","text","index","nextFilter","propTypes","arrayOf","shape","string","isRequired","completed","bool","oneOf","selectTodos","todos","filter","SHOW_ALL","SHOW_COMPLETED","todo","SHOW_ACTIVE","select","state"],"mappings":";;;;;;;;AAAA;;;;AACA;;AACA;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;IAEMA,G;;;;;;;;;;;iCACO;AACL;AADK,yBAE8C,KAAKC,KAFnD;AAAA,gBAEEC,QAFF,UAEEA,QAFF;AAAA,gBAEYC,YAFZ,UAEYA,YAFZ;AAAA,gBAE0BC,gBAF1B,UAE0BA,gBAF1B;;AAGL,mBACI;AAAA;AAAA;AACI,uDAAK,WAAU,UAAf,GADJ;AAEI;AAAA;AAAA,sBAAK,WAAU,UAAf;AACI,uEAAS,YAAY;AAAA,mCAAQF,SAAS,qBAAQG,IAAR,CAAT,CAAR;AAAA,yBAArB,GADJ;AAEI,wEAAU,OAAO,KAAKJ,KAAL,CAAWE,YAA5B,EAA0C,aAAa;AAAA,mCAASD,SAAS,0BAAaI,KAAb,CAAT,CAAT;AAAA,yBAAvD,GAFJ;AAGI,sEAAQ,QAAQF,gBAAhB,EAAkC,gBAAgB;AAAA,mCAAcF,SAAS,iCAAoBK,UAApB,CAAT,CAAd;AAAA,yBAAlD;AAHJ,iBAFJ;AAOI,uDAAK,WAAU,UAAf;AAPJ,aADJ;AAWH;;;;;;AAGLP,IAAIQ,SAAJ,GAAgB;AACZL,kBAAc,iBAAUM,OAAV,CAAkB,iBAAUC,KAAV,CAAgB,EAACL,MAAM,iBAAUM,MAAV,CAAiBC,UAAxB,EAAoCC,WAAW,iBAAUC,IAAV,CAAeF,UAA9D,EAAhB,CAAlB,CADF;AAEZR,sBAAkB,iBAAUW,KAAV,CAAgB,CAAC,UAAD,EAAa,gBAAb,EAA+B,aAA/B,CAAhB,EAA+DH;AAFrE,CAAhB;;AAKA,SAASI,WAAT,CAAqBC,KAArB,EAA4BC,MAA5B,EAAoC;AAChC,YAAQA,MAAR;AACI,aAAK,0BAAkBC,QAAvB;AACI,mBAAOF,KAAP;AACJ,aAAK,0BAAkBG,cAAvB;AACI,mBAAOH,MAAMC,MAAN,CAAa;AAAA,uBAAQG,KAAKR,SAAb;AAAA,aAAb,CAAP;AACJ,aAAK,0BAAkBS,WAAvB;AACI,mBAAOL,MAAMC,MAAN,CAAa;AAAA,uBAAQ,CAACG,KAAKR,SAAd;AAAA,aAAb,CAAP;AANR;AAQH;;AAED;AACA;AACA,SAASU,MAAT,CAAgBC,KAAhB,EAAuB;AACnB,WAAO;AACHrB,sBAAca,YAAYQ,MAAMP,KAAlB,EAAyBO,MAAMpB,gBAA/B,CADX;AAEHA,0BAAkBoB,MAAMpB;AAFrB,KAAP;AAIH;;AAED;kBACe,yBAAQmB,MAAR,EAAgBvB,GAAhB,C","file":"App.jsx","sourceRoot":"/Users/creator/workspace/furuida","sourcesContent":["import React, {Component, PropTypes} from 'react';\nimport {connect} from 'react-redux';\nimport {addTodo, completeTodo, setVisibilityFilter, VisibilityFilters} from '../redux/action';\nimport AddTodo from '../components/AddTodo';\nimport TodoList from '../components/TodoList';\nimport Footer from '../components/Footer';\n\nclass App extends Component {\n    render() {\n        // 通过调用 connect() 注入:\n        const {dispatch, visibleTodos, visibilityFilter} = this.props\n        return (\n            <div>\n                <div className=\"col-xs-4\"></div>\n                <div className=\"col-xs-4\">\n                    <AddTodo onAddClick={text => dispatch(addTodo(text))}/>\n                    <TodoList todos={this.props.visibleTodos} onTodoClick={index => dispatch(completeTodo(index))}/>\n                    <Footer filter={visibilityFilter} onFilterChange={nextFilter => dispatch(setVisibilityFilter(nextFilter))}/>\n                </div>\n                <div className=\"col-xs-4\"></div>\n            </div>\n        )\n    }\n}\n\nApp.propTypes = {\n    visibleTodos: PropTypes.arrayOf(PropTypes.shape({text: PropTypes.string.isRequired, completed: PropTypes.bool.isRequired})),\n    visibilityFilter: PropTypes.oneOf(['SHOW_ALL', 'SHOW_COMPLETED', 'SHOW_ACTIVE']).isRequired\n}\n\nfunction selectTodos(todos, filter) {\n    switch (filter) {\n        case VisibilityFilters.SHOW_ALL:\n            return todos;\n        case VisibilityFilters.SHOW_COMPLETED:\n            return todos.filter(todo => todo.completed);\n        case VisibilityFilters.SHOW_ACTIVE:\n            return todos.filter(todo => !todo.completed);\n    }\n}\n\n// 基于全局 state ，哪些是我们想注入的 props ?\n// 注意：使用 https://github.com/reactjs/reselect 效果更佳。\nfunction select(state) {\n    return {\n        visibleTodos: selectTodos(state.todos, state.visibilityFilter),\n        visibilityFilter: state.visibilityFilter\n    };\n}\n\n// 包装 component ，注入 dispatch 和 state 到其默认的 connect(select)(App) 中；\nexport default connect(select)(App);\n"]}