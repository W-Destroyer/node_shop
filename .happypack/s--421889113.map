{"version":3,"sources":["node_modules/history/lib/createHashHistory.js"],"names":["exports","__esModule","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_warning","require","_warning2","_interopRequireDefault","_invariant","_invariant2","_ExecutionEnvironment","_DOMUtils","_HashProtocol","HashProtocol","_interopRequireWildcard","_createHistory","_createHistory2","obj","newObj","default","DefaultQueryKey","addLeadingSlash","path","charAt","HashPathCoders","hashbang","encodePath","decodePath","substring","noslash","slash","createHashHistory","options","undefined","canUseDOM","process","env","NODE_ENV","queryKey","hashType","pathCoder","getUserConfirmation","getCurrentLocation","pushLocation","location","replaceLocation","history","go","listenerCount","stopListener","startListener","listener","before","transitionTo","unlisten","listenBefore","listen","goIsSupportedWithoutReload","supportsGoWithoutReloadUsingHash","n","createHref"],"mappings":"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","file":"createHashHistory.js","sourceRoot":"/Users/creator/workspace/furuida","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _ExecutionEnvironment = require('./ExecutionEnvironment');\n\nvar _DOMUtils = require('./DOMUtils');\n\nvar _HashProtocol = require('./HashProtocol');\n\nvar HashProtocol = _interopRequireWildcard(_HashProtocol);\n\nvar _createHistory = require('./createHistory');\n\nvar _createHistory2 = _interopRequireDefault(_createHistory);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar DefaultQueryKey = '_k';\n\nvar addLeadingSlash = function addLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path : '/' + path;\n};\n\nvar HashPathCoders = {\n  hashbang: {\n    encodePath: function encodePath(path) {\n      return path.charAt(0) === '!' ? path : '!' + path;\n    },\n    decodePath: function decodePath(path) {\n      return path.charAt(0) === '!' ? path.substring(1) : path;\n    }\n  },\n  noslash: {\n    encodePath: function encodePath(path) {\n      return path.charAt(0) === '/' ? path.substring(1) : path;\n    },\n    decodePath: addLeadingSlash\n  },\n  slash: {\n    encodePath: addLeadingSlash,\n    decodePath: addLeadingSlash\n  }\n};\n\nvar createHashHistory = function createHashHistory() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  !_ExecutionEnvironment.canUseDOM ? process.env.NODE_ENV !== 'production' ? (0, _invariant2.default)(false, 'Hash history needs a DOM') : (0, _invariant2.default)(false) : void 0;\n\n  var queryKey = options.queryKey,\n      hashType = options.hashType;\n\n\n  process.env.NODE_ENV !== 'production' ? (0, _warning2.default)(queryKey !== false, 'Using { queryKey: false } no longer works. Instead, just don\\'t ' + 'use location state if you don\\'t want a key in your URL query string') : void 0;\n\n  if (typeof queryKey !== 'string') queryKey = DefaultQueryKey;\n\n  if (hashType == null) hashType = 'slash';\n\n  if (!(hashType in HashPathCoders)) {\n    process.env.NODE_ENV !== 'production' ? (0, _warning2.default)(false, 'Invalid hash type: %s', hashType) : void 0;\n\n    hashType = 'slash';\n  }\n\n  var pathCoder = HashPathCoders[hashType];\n\n  var getUserConfirmation = HashProtocol.getUserConfirmation;\n\n\n  var getCurrentLocation = function getCurrentLocation() {\n    return HashProtocol.getCurrentLocation(pathCoder, queryKey);\n  };\n\n  var pushLocation = function pushLocation(location) {\n    return HashProtocol.pushLocation(location, pathCoder, queryKey);\n  };\n\n  var replaceLocation = function replaceLocation(location) {\n    return HashProtocol.replaceLocation(location, pathCoder, queryKey);\n  };\n\n  var history = (0, _createHistory2.default)(_extends({\n    getUserConfirmation: getUserConfirmation }, options, {\n    getCurrentLocation: getCurrentLocation,\n    pushLocation: pushLocation,\n    replaceLocation: replaceLocation,\n    go: HashProtocol.go\n  }));\n\n  var listenerCount = 0,\n      stopListener = void 0;\n\n  var startListener = function startListener(listener, before) {\n    if (++listenerCount === 1) stopListener = HashProtocol.startListener(history.transitionTo, pathCoder, queryKey);\n\n    var unlisten = before ? history.listenBefore(listener) : history.listen(listener);\n\n    return function () {\n      unlisten();\n\n      if (--listenerCount === 0) stopListener();\n    };\n  };\n\n  var listenBefore = function listenBefore(listener) {\n    return startListener(listener, true);\n  };\n\n  var listen = function listen(listener) {\n    return startListener(listener, false);\n  };\n\n  var goIsSupportedWithoutReload = (0, _DOMUtils.supportsGoWithoutReloadUsingHash)();\n\n  var go = function go(n) {\n    process.env.NODE_ENV !== 'production' ? (0, _warning2.default)(goIsSupportedWithoutReload, 'Hash history go(n) causes a full page reload in this browser') : void 0;\n\n    history.go(n);\n  };\n\n  var createHref = function createHref(path) {\n    return '#' + pathCoder.encodePath(history.createHref(path));\n  };\n\n  return _extends({}, history, {\n    listenBefore: listenBefore,\n    listen: listen,\n    go: go,\n    createHref: createHref\n  });\n};\n\nexports.default = createHashHistory;"]}