{"version":3,"sources":["node_modules/rc-animate/lib/ChildrenUtils.js"],"names":["Object","defineProperty","exports","value","toArrayChildren","findChildInChildrenByKey","findShownChildInChildrenByKey","findHiddenChildInChildrenByKey","isSameChildren","mergeChildren","_react","require","_react2","_interopRequireDefault","obj","__esModule","children","ret","Children","forEach","child","push","key","showProp","props","Error","found","c1","c2","same","length","index","child2","prev","next","nextChildrenPending","pendingChildren","hasOwnProperty","concat"],"mappings":"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","file":"ChildrenUtils.js","sourceRoot":"/Users/creator/workspace/furuida","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.toArrayChildren = toArrayChildren;\nexports.findChildInChildrenByKey = findChildInChildrenByKey;\nexports.findShownChildInChildrenByKey = findShownChildInChildrenByKey;\nexports.findHiddenChildInChildrenByKey = findHiddenChildInChildrenByKey;\nexports.isSameChildren = isSameChildren;\nexports.mergeChildren = mergeChildren;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction toArrayChildren(children) {\n  var ret = [];\n  _react2[\"default\"].Children.forEach(children, function (child) {\n    ret.push(child);\n  });\n  return ret;\n}\n\nfunction findChildInChildrenByKey(children, key) {\n  var ret = null;\n  if (children) {\n    children.forEach(function (child) {\n      if (ret) {\n        return;\n      }\n      if (child && child.key === key) {\n        ret = child;\n      }\n    });\n  }\n  return ret;\n}\n\nfunction findShownChildInChildrenByKey(children, key, showProp) {\n  var ret = null;\n  if (children) {\n    children.forEach(function (child) {\n      if (child && child.key === key && child.props[showProp]) {\n        if (ret) {\n          throw new Error('two child with same key for <rc-animate> children');\n        }\n        ret = child;\n      }\n    });\n  }\n  return ret;\n}\n\nfunction findHiddenChildInChildrenByKey(children, key, showProp) {\n  var found = 0;\n  if (children) {\n    children.forEach(function (child) {\n      if (found) {\n        return;\n      }\n      found = child && child.key === key && !child.props[showProp];\n    });\n  }\n  return found;\n}\n\nfunction isSameChildren(c1, c2, showProp) {\n  var same = c1.length === c2.length;\n  if (same) {\n    c1.forEach(function (child, index) {\n      var child2 = c2[index];\n      if (child && child2) {\n        if (child && !child2 || !child && child2) {\n          same = false;\n        } else if (child.key !== child2.key) {\n          same = false;\n        } else if (showProp && child.props[showProp] !== child2.props[showProp]) {\n          same = false;\n        }\n      }\n    });\n  }\n  return same;\n}\n\nfunction mergeChildren(prev, next) {\n  var ret = [];\n\n  // For each key of `next`, the list of keys to insert before that key in\n  // the combined list\n  var nextChildrenPending = {};\n  var pendingChildren = [];\n  prev.forEach(function (child) {\n    if (child && findChildInChildrenByKey(next, child.key)) {\n      if (pendingChildren.length) {\n        nextChildrenPending[child.key] = pendingChildren;\n        pendingChildren = [];\n      }\n    } else {\n      pendingChildren.push(child);\n    }\n  });\n\n  next.forEach(function (child) {\n    if (child && nextChildrenPending.hasOwnProperty(child.key)) {\n      ret = ret.concat(nextChildrenPending[child.key]);\n    }\n    ret.push(child);\n  });\n\n  ret = ret.concat(pendingChildren);\n\n  return ret;\n}"]}