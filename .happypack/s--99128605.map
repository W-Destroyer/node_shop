{"version":3,"sources":["node_modules/css-animation/lib/index.js"],"names":["Object","defineProperty","exports","value","_typeof","Symbol","iterator","obj","constructor","prototype","_Event","require","_Event2","_interopRequireDefault","_componentClasses","_componentClasses2","__esModule","isCssAnimationSupported","endEvents","length","capitalPrefixes","prefixes","getStyleProperty","node","name","style","window","getComputedStyle","ret","i","getPropertyValue","fixBrowserByTimeout","transitionDelay","parseFloat","transitionDuration","animationDelay","animationDuration","time","Math","max","rcEndAnimTimeout","setTimeout","rcEndListener","clearBrowserBugTimeout","clearTimeout","cssAnimation","transitionName","endCallback","nameIsObj","className","activeClassName","active","end","start","nodeClasses","toString","call","e","target","rcAnimTimeout","remove","removeEndEventListener","addEndEventListener","add","stop","callback","s","hasOwnProperty","setTransition","p","property","v","undefined","forEach","prefix","module"],"mappings":"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","file":"index.js","sourceRoot":"/Users/creator/workspace/furuida","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _Event = require('./Event');\n\nvar _Event2 = _interopRequireDefault(_Event);\n\nvar _componentClasses = require('component-classes');\n\nvar _componentClasses2 = _interopRequireDefault(_componentClasses);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar isCssAnimationSupported = _Event2[\"default\"].endEvents.length !== 0;\n\n\nvar capitalPrefixes = ['Webkit', 'Moz', 'O',\n// ms is special .... !\n'ms'];\nvar prefixes = ['-webkit-', '-moz-', '-o-', 'ms-', ''];\n\nfunction getStyleProperty(node, name) {\n  // old ff need null, https://developer.mozilla.org/en-US/docs/Web/API/Window/getComputedStyle\n  var style = window.getComputedStyle(node, null);\n  var ret = '';\n  for (var i = 0; i < prefixes.length; i++) {\n    ret = style.getPropertyValue(prefixes[i] + name);\n    if (ret) {\n      break;\n    }\n  }\n  return ret;\n}\n\nfunction fixBrowserByTimeout(node) {\n  if (isCssAnimationSupported) {\n    var transitionDelay = parseFloat(getStyleProperty(node, 'transition-delay')) || 0;\n    var transitionDuration = parseFloat(getStyleProperty(node, 'transition-duration')) || 0;\n    var animationDelay = parseFloat(getStyleProperty(node, 'animation-delay')) || 0;\n    var animationDuration = parseFloat(getStyleProperty(node, 'animation-duration')) || 0;\n    var time = Math.max(transitionDuration + transitionDelay, animationDuration + animationDelay);\n    // sometimes, browser bug\n    node.rcEndAnimTimeout = setTimeout(function () {\n      node.rcEndAnimTimeout = null;\n      if (node.rcEndListener) {\n        node.rcEndListener();\n      }\n    }, time * 1000 + 200);\n  }\n}\n\nfunction clearBrowserBugTimeout(node) {\n  if (node.rcEndAnimTimeout) {\n    clearTimeout(node.rcEndAnimTimeout);\n    node.rcEndAnimTimeout = null;\n  }\n}\n\nvar cssAnimation = function cssAnimation(node, transitionName, endCallback) {\n  var nameIsObj = (typeof transitionName === 'undefined' ? 'undefined' : _typeof(transitionName)) === 'object';\n  var className = nameIsObj ? transitionName.name : transitionName;\n  var activeClassName = nameIsObj ? transitionName.active : transitionName + '-active';\n  var end = endCallback;\n  var start = void 0;\n  var active = void 0;\n  var nodeClasses = (0, _componentClasses2[\"default\"])(node);\n\n  if (endCallback && Object.prototype.toString.call(endCallback) === '[object Object]') {\n    end = endCallback.end;\n    start = endCallback.start;\n    active = endCallback.active;\n  }\n\n  if (node.rcEndListener) {\n    node.rcEndListener();\n  }\n\n  node.rcEndListener = function (e) {\n    if (e && e.target !== node) {\n      return;\n    }\n\n    if (node.rcAnimTimeout) {\n      clearTimeout(node.rcAnimTimeout);\n      node.rcAnimTimeout = null;\n    }\n\n    clearBrowserBugTimeout(node);\n\n    nodeClasses.remove(className);\n    nodeClasses.remove(activeClassName);\n\n    _Event2[\"default\"].removeEndEventListener(node, node.rcEndListener);\n    node.rcEndListener = null;\n\n    // Usually this optional end is used for informing an owner of\n    // a leave animation and telling it to remove the child.\n    if (end) {\n      end();\n    }\n  };\n\n  _Event2[\"default\"].addEndEventListener(node, node.rcEndListener);\n\n  if (start) {\n    start();\n  }\n  nodeClasses.add(className);\n\n  node.rcAnimTimeout = setTimeout(function () {\n    node.rcAnimTimeout = null;\n    nodeClasses.add(activeClassName);\n    if (active) {\n      setTimeout(active, 0);\n    }\n    fixBrowserByTimeout(node);\n    // 30ms for firefox\n  }, 30);\n\n  return {\n    stop: function stop() {\n      if (node.rcEndListener) {\n        node.rcEndListener();\n      }\n    }\n  };\n};\n\ncssAnimation.style = function (node, style, callback) {\n  if (node.rcEndListener) {\n    node.rcEndListener();\n  }\n\n  node.rcEndListener = function (e) {\n    if (e && e.target !== node) {\n      return;\n    }\n\n    if (node.rcAnimTimeout) {\n      clearTimeout(node.rcAnimTimeout);\n      node.rcAnimTimeout = null;\n    }\n\n    clearBrowserBugTimeout(node);\n\n    _Event2[\"default\"].removeEndEventListener(node, node.rcEndListener);\n    node.rcEndListener = null;\n\n    // Usually this optional callback is used for informing an owner of\n    // a leave animation and telling it to remove the child.\n    if (callback) {\n      callback();\n    }\n  };\n\n  _Event2[\"default\"].addEndEventListener(node, node.rcEndListener);\n\n  node.rcAnimTimeout = setTimeout(function () {\n    for (var s in style) {\n      if (style.hasOwnProperty(s)) {\n        node.style[s] = style[s];\n      }\n    }\n    node.rcAnimTimeout = null;\n    fixBrowserByTimeout(node);\n  }, 0);\n};\n\ncssAnimation.setTransition = function (node, p, value) {\n  var property = p;\n  var v = value;\n  if (value === undefined) {\n    v = property;\n    property = '';\n  }\n  property = property || '';\n  capitalPrefixes.forEach(function (prefix) {\n    node.style[prefix + 'Transition' + property] = v;\n  });\n};\n\ncssAnimation.isCssAnimationSupported = isCssAnimationSupported;\n\nexports[\"default\"] = cssAnimation;\nmodule.exports = exports['default'];"]}