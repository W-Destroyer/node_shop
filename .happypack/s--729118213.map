{"version":3,"sources":["public/src/js_components/react-router/modules/RouterContext.js"],"names":["PropTypes","array","func","object","RouterContext","createClass","mixins","propTypes","router","isRequired","location","routes","params","components","createElement","getDefaultProps","childContextTypes","getChildContext","props","component","render","element","reduceRight","index","route","routeParams","children","prop","Object","prototype","hasOwnProperty","call","elements","key","isValidElement"],"mappings":"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","file":"RouterContext.js","sourceRoot":"/Users/creator/workspace/furuida","sourcesContent":["import invariant from 'invariant'\nimport React from 'react'\n\nimport getRouteParams from './getRouteParams'\nimport { ContextProvider } from './ContextUtils'\nimport { isReactChildren } from './RouteUtils'\n\nconst { array, func, object } = React.PropTypes\n\n/**\n * A <RouterContext> renders the component tree for a given router state\n * and sets the history object and the current location in context.\n */\nconst RouterContext = React.createClass({\n\n  mixins: [ ContextProvider('router') ],\n\n  propTypes: {\n    router: object.isRequired,\n    location: object.isRequired,\n    routes: array.isRequired,\n    params: object.isRequired,\n    components: array.isRequired,\n    createElement: func.isRequired\n  },\n\n  getDefaultProps() {\n    return {\n      createElement: React.createElement\n    }\n  },\n\n  childContextTypes: {\n    router: object.isRequired\n  },\n\n  getChildContext() {\n    return {\n      router: this.props.router\n    }\n  },\n\n  createElement(component, props) {\n    return component == null ? null : this.props.createElement(component, props)\n  },\n\n  render() {\n    const { location, routes, params, components, router } = this.props\n    let element = null\n\n    if (components) {\n      element = components.reduceRight((element, components, index) => {\n        if (components == null)\n          return element // Don't create new children; use the grandchildren.\n\n        const route = routes[index]\n        const routeParams = getRouteParams(route, params)\n        const props = {\n          location,\n          params,\n          route,\n          router,\n          routeParams,\n          routes\n        }\n\n        if (isReactChildren(element)) {\n          props.children = element\n        } else if (element) {\n          for (const prop in element)\n            if (Object.prototype.hasOwnProperty.call(element, prop))\n              props[prop] = element[prop]\n        }\n\n        if (typeof components === 'object') {\n          const elements = {}\n\n          for (const key in components) {\n            if (Object.prototype.hasOwnProperty.call(components, key)) {\n              // Pass through the key as a prop to createElement to allow\n              // custom createElement functions to know which named component\n              // they're rendering, for e.g. matching up to fetched data.\n              elements[key] = this.createElement(components[key], {\n                key, ...props\n              })\n            }\n          }\n\n          return elements\n        }\n\n        return this.createElement(components, props)\n      }, element)\n    }\n\n    invariant(\n      element === null || element === false || React.isValidElement(element),\n      'The root route must render a single element'\n    )\n\n    return element\n  }\n\n})\n\nexport default RouterContext\n"]}