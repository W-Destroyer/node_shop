{"version":3,"sources":["node_modules/dom-align/lib/utils.js"],"names":["Object","defineProperty","exports","value","_typeof","Symbol","iterator","obj","constructor","prototype","_propertyUtils","require","RE_NUM","source","getComputedStyleX","force","x","y","css","el","name","v","i","hasOwnProperty","undefined","style","getClientPosition","elem","box","doc","ownerDocument","body","docElem","documentElement","getBoundingClientRect","left","top","clientLeft","clientTop","getScroll","w","ret","method","d","document","getScrollLeft","getScrollTop","getOffset","pos","defaultView","parentWindow","_getComputedStyle","cs","computedStyle","val","getComputedStyle","getPropertyValue","_RE_NUM_NO_PX","RegExp","RE_POS","CURRENT_STYLE","RUNTIME_STYLE","LEFT","PX","_getComputedStyleIE","test","rsLeft","pixelLeft","window","getOffsetDirection","dir","option","useCssRight","useCssBottom","oppositeOffsetDirection","setLeftTop","offset","position","presetH","presetV","horizontalProperty","verticalProperty","oppositeHorizontalProperty","oppositeVerticalProperty","originalTransition","originalOffset","getTransitionProperty","setTransitionProperty","old","originalStyle","key","preset","off","offsetTop","offsetLeft","_key","_dir","_off","setTransform","originalXY","getTransformXY","resultXY","setTransformXY","setOffset","useCssTransform","getTransformName","each","arr","fn","length","isBorderBoxFn","BOX_MODELS","CONTENT_INDEX","PADDING_INDEX","BORDER_INDEX","MARGIN_INDEX","swap","options","callback","call","getPBMWidth","props","which","prop","j","cssProp","parseFloat","isWindow","domUtils","refWin","Math","max","win","documentElementProp","compatMode","getWH","ex","extra","viewportWidth","viewportHeight","nodeType","docWidth","docHeight","borderBoxValue","offsetWidth","offsetHeight","isBorderBox","cssBoxValue","Number","borderBoxValueOrIsBorderBox","slice","cssShow","visibility","display","getWHIgnoreDisplay","_len","arguments","args","Array","_key2","apply","first","charAt","toUpperCase","includeMargin","mix","to","from","utils","getWindow","node","setTimeout","clone","overflow","getWindowScrollLeft","getWindowScrollTop","merge","_len2","_key3","module"],"mappings":"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","file":"utils.js","sourceRoot":"/Users/creator/workspace/furuida","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _propertyUtils = require('./propertyUtils');\n\nvar RE_NUM = /[\\-+]?(?:\\d*\\.|)\\d+(?:[eE][\\-+]?\\d+|)/.source;\n\nvar getComputedStyleX = void 0;\n\nfunction force(x, y) {\n  return x + y;\n}\n\nfunction css(el, name, v) {\n  var value = v;\n  if ((typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'object') {\n    for (var i in name) {\n      if (name.hasOwnProperty(i)) {\n        css(el, i, name[i]);\n      }\n    }\n    return undefined;\n  }\n  if (typeof value !== 'undefined') {\n    if (typeof value === 'number') {\n      value = value + 'px';\n    }\n    el.style[name] = value;\n    return undefined;\n  }\n  return getComputedStyleX(el, name);\n}\n\nfunction getClientPosition(elem) {\n  var box = void 0;\n  var x = void 0;\n  var y = void 0;\n  var doc = elem.ownerDocument;\n  var body = doc.body;\n  var docElem = doc && doc.documentElement;\n  // 根据 GBS 最新数据，A-Grade Browsers 都已支持 getBoundingClientRect 方法，不用再考虑传统的实现方式\n  box = elem.getBoundingClientRect();\n\n  // 注：jQuery 还考虑减去 docElem.clientLeft/clientTop\n  // 但测试发现，这样反而会导致当 html 和 body 有边距/边框样式时，获取的值不正确\n  // 此外，ie6 会忽略 html 的 margin 值，幸运地是没有谁会去设置 html 的 margin\n\n  x = box.left;\n  y = box.top;\n\n  // In IE, most of the time, 2 extra pixels are added to the top and left\n  // due to the implicit 2-pixel inset border.  In IE6/7 quirks mode and\n  // IE6 standards mode, this border can be overridden by setting the\n  // document element's border to zero -- thus, we cannot rely on the\n  // offset always being 2 pixels.\n\n  // In quirks mode, the offset can be determined by querying the body's\n  // clientLeft/clientTop, but in standards mode, it is found by querying\n  // the document element's clientLeft/clientTop.  Since we already called\n  // getClientBoundingRect we have already forced a reflow, so it is not\n  // too expensive just to query them all.\n\n  // ie 下应该减去窗口的边框吧，毕竟默认 absolute 都是相对窗口定位的\n  // 窗口边框标准是设 documentElement ,quirks 时设置 body\n  // 最好禁止在 body 和 html 上边框 ，但 ie < 9 html 默认有 2px ，减去\n  // 但是非 ie 不可能设置窗口边框，body html 也不是窗口 ,ie 可以通过 html,body 设置\n  // 标准 ie 下 docElem.clientTop 就是 border-top\n  // ie7 html 即窗口边框改变不了。永远为 2\n  // 但标准 firefox/chrome/ie9 下 docElem.clientTop 是窗口边框，即使设了 border-top 也为 0\n\n  x -= docElem.clientLeft || body.clientLeft || 0;\n  y -= docElem.clientTop || body.clientTop || 0;\n\n  return {\n    left: x,\n    top: y\n  };\n}\n\nfunction getScroll(w, top) {\n  var ret = w['page' + (top ? 'Y' : 'X') + 'Offset'];\n  var method = 'scroll' + (top ? 'Top' : 'Left');\n  if (typeof ret !== 'number') {\n    var d = w.document;\n    // ie6,7,8 standard mode\n    ret = d.documentElement[method];\n    if (typeof ret !== 'number') {\n      // quirks mode\n      ret = d.body[method];\n    }\n  }\n  return ret;\n}\n\nfunction getScrollLeft(w) {\n  return getScroll(w);\n}\n\nfunction getScrollTop(w) {\n  return getScroll(w, true);\n}\n\nfunction getOffset(el) {\n  var pos = getClientPosition(el);\n  var doc = el.ownerDocument;\n  var w = doc.defaultView || doc.parentWindow;\n  pos.left += getScrollLeft(w);\n  pos.top += getScrollTop(w);\n  return pos;\n}\nfunction _getComputedStyle(elem, name, cs) {\n  var computedStyle = cs;\n  var val = '';\n  var d = elem.ownerDocument;\n  computedStyle = computedStyle || d.defaultView.getComputedStyle(elem, null);\n\n  // https://github.com/kissyteam/kissy/issues/61\n  if (computedStyle) {\n    val = computedStyle.getPropertyValue(name) || computedStyle[name];\n  }\n\n  return val;\n}\n\nvar _RE_NUM_NO_PX = new RegExp('^(' + RE_NUM + ')(?!px)[a-z%]+$', 'i');\nvar RE_POS = /^(top|right|bottom|left)$/;\nvar CURRENT_STYLE = 'currentStyle';\nvar RUNTIME_STYLE = 'runtimeStyle';\nvar LEFT = 'left';\nvar PX = 'px';\n\nfunction _getComputedStyleIE(elem, name) {\n  // currentStyle maybe null\n  // http://msdn.microsoft.com/en-us/library/ms535231.aspx\n  var ret = elem[CURRENT_STYLE] && elem[CURRENT_STYLE][name];\n\n  // 当 width/height 设置为百分比时，通过 pixelLeft 方式转换的 width/height 值\n  // 一开始就处理了! CUSTOM_STYLE.height,CUSTOM_STYLE.width ,cssHook 解决@2011-08-19\n  // 在 ie 下不对，需要直接用 offset 方式\n  // borderWidth 等值也有问题，但考虑到 borderWidth 设为百分比的概率很小，这里就不考虑了\n\n  // From the awesome hack by Dean Edwards\n  // http://erik.eae.net/archives/2007/07/27/18.54.15/#comment-102291\n  // If we're not dealing with a regular pixel number\n  // but a number that has a weird ending, we need to convert it to pixels\n  // exclude left right for relativity\n  if (_RE_NUM_NO_PX.test(ret) && !RE_POS.test(name)) {\n    // Remember the original values\n    var style = elem.style;\n    var left = style[LEFT];\n    var rsLeft = elem[RUNTIME_STYLE][LEFT];\n\n    // prevent flashing of content\n    elem[RUNTIME_STYLE][LEFT] = elem[CURRENT_STYLE][LEFT];\n\n    // Put in the new values to get a computed value out\n    style[LEFT] = name === 'fontSize' ? '1em' : ret || 0;\n    ret = style.pixelLeft + PX;\n\n    // Revert the changed values\n    style[LEFT] = left;\n\n    elem[RUNTIME_STYLE][LEFT] = rsLeft;\n  }\n  return ret === '' ? 'auto' : ret;\n}\n\nif (typeof window !== 'undefined') {\n  getComputedStyleX = window.getComputedStyle ? _getComputedStyle : _getComputedStyleIE;\n}\n\nfunction getOffsetDirection(dir, option) {\n  if (dir === 'left') {\n    return option.useCssRight ? 'right' : dir;\n  }\n  return option.useCssBottom ? 'bottom' : dir;\n}\n\nfunction oppositeOffsetDirection(dir) {\n  if (dir === 'left') {\n    return 'right';\n  } else if (dir === 'right') {\n    return 'left';\n  } else if (dir === 'top') {\n    return 'bottom';\n  } else if (dir === 'bottom') {\n    return 'top';\n  }\n}\n\n// 设置 elem 相对 elem.ownerDocument 的坐标\nfunction setLeftTop(elem, offset, option) {\n  // set position first, in-case top/left are set even on static elem\n  if (css(elem, 'position') === 'static') {\n    elem.style.position = 'relative';\n  }\n  var presetH = -999;\n  var presetV = -999;\n  var horizontalProperty = getOffsetDirection('left', option);\n  var verticalProperty = getOffsetDirection('top', option);\n  var oppositeHorizontalProperty = oppositeOffsetDirection(horizontalProperty);\n  var oppositeVerticalProperty = oppositeOffsetDirection(verticalProperty);\n\n  if (horizontalProperty !== 'left') {\n    presetH = 999;\n  }\n\n  if (verticalProperty !== 'top') {\n    presetV = 999;\n  }\n  var originalTransition = '';\n  var originalOffset = getOffset(elem);\n  if ('left' in offset || 'top' in offset) {\n    originalTransition = (0, _propertyUtils.getTransitionProperty)(elem) || '';\n    (0, _propertyUtils.setTransitionProperty)(elem, 'none');\n  }\n  if ('left' in offset) {\n    elem.style[oppositeHorizontalProperty] = '';\n    elem.style[horizontalProperty] = presetH + 'px';\n  }\n  if ('top' in offset) {\n    elem.style[oppositeVerticalProperty] = '';\n    elem.style[verticalProperty] = presetV + 'px';\n  }\n  var old = getOffset(elem);\n  var originalStyle = {};\n  for (var key in offset) {\n    if (offset.hasOwnProperty(key)) {\n      var dir = getOffsetDirection(key, option);\n      var preset = key === 'left' ? presetH : presetV;\n      var off = originalOffset[key] - old[key];\n      if (dir === key) {\n        originalStyle[dir] = preset + off;\n      } else {\n        originalStyle[dir] = preset - off;\n      }\n    }\n  }\n  css(elem, originalStyle);\n  // force relayout\n  force(elem.offsetTop, elem.offsetLeft);\n  if ('left' in offset || 'top' in offset) {\n    (0, _propertyUtils.setTransitionProperty)(elem, originalTransition);\n  }\n  var ret = {};\n  for (var _key in offset) {\n    if (offset.hasOwnProperty(_key)) {\n      var _dir = getOffsetDirection(_key, option);\n      var _off = offset[_key] - originalOffset[_key];\n      if (_key === _dir) {\n        ret[_dir] = originalStyle[_dir] + _off;\n      } else {\n        ret[_dir] = originalStyle[_dir] - _off;\n      }\n    }\n  }\n  css(elem, ret);\n}\n\nfunction setTransform(elem, offset) {\n  var originalOffset = getOffset(elem);\n  var originalXY = (0, _propertyUtils.getTransformXY)(elem);\n  var resultXY = { x: originalXY.x, y: originalXY.y };\n  if ('left' in offset) {\n    resultXY.x = originalXY.x + offset.left - originalOffset.left;\n  }\n  if ('top' in offset) {\n    resultXY.y = originalXY.y + offset.top - originalOffset.top;\n  }\n  (0, _propertyUtils.setTransformXY)(elem, resultXY);\n}\n\nfunction setOffset(elem, offset, option) {\n  if (option.useCssRight || option.useCssBottom) {\n    setLeftTop(elem, offset, option);\n  } else if (option.useCssTransform && (0, _propertyUtils.getTransformName)() in document.body.style) {\n    setTransform(elem, offset, option);\n  } else {\n    setLeftTop(elem, offset, option);\n  }\n}\n\nfunction each(arr, fn) {\n  for (var i = 0; i < arr.length; i++) {\n    fn(arr[i]);\n  }\n}\n\nfunction isBorderBoxFn(elem) {\n  return getComputedStyleX(elem, 'boxSizing') === 'border-box';\n}\n\nvar BOX_MODELS = ['margin', 'border', 'padding'];\nvar CONTENT_INDEX = -1;\nvar PADDING_INDEX = 2;\nvar BORDER_INDEX = 1;\nvar MARGIN_INDEX = 0;\n\nfunction swap(elem, options, callback) {\n  var old = {};\n  var style = elem.style;\n  var name = void 0;\n\n  // Remember the old values, and insert the new ones\n  for (name in options) {\n    if (options.hasOwnProperty(name)) {\n      old[name] = style[name];\n      style[name] = options[name];\n    }\n  }\n\n  callback.call(elem);\n\n  // Revert the old values\n  for (name in options) {\n    if (options.hasOwnProperty(name)) {\n      style[name] = old[name];\n    }\n  }\n}\n\nfunction getPBMWidth(elem, props, which) {\n  var value = 0;\n  var prop = void 0;\n  var j = void 0;\n  var i = void 0;\n  for (j = 0; j < props.length; j++) {\n    prop = props[j];\n    if (prop) {\n      for (i = 0; i < which.length; i++) {\n        var cssProp = void 0;\n        if (prop === 'border') {\n          cssProp = '' + prop + which[i] + 'Width';\n        } else {\n          cssProp = prop + which[i];\n        }\n        value += parseFloat(getComputedStyleX(elem, cssProp)) || 0;\n      }\n    }\n  }\n  return value;\n}\n\n/**\n * A crude way of determining if an object is a window\n * @member util\n */\nfunction isWindow(obj) {\n  // must use == for ie8\n  /* eslint eqeqeq:0 */\n  return obj !== null && obj !== undefined && obj == obj.window;\n}\n\nvar domUtils = {};\n\neach(['Width', 'Height'], function (name) {\n  domUtils['doc' + name] = function (refWin) {\n    var d = refWin.document;\n    return Math.max(\n    // firefox chrome documentElement.scrollHeight< body.scrollHeight\n    // ie standard mode : documentElement.scrollHeight> body.scrollHeight\n    d.documentElement['scroll' + name],\n    // quirks : documentElement.scrollHeight 最大等于可视窗口多一点？\n    d.body['scroll' + name], domUtils['viewport' + name](d));\n  };\n\n  domUtils['viewport' + name] = function (win) {\n    // pc browser includes scrollbar in window.innerWidth\n    var prop = 'client' + name;\n    var doc = win.document;\n    var body = doc.body;\n    var documentElement = doc.documentElement;\n    var documentElementProp = documentElement[prop];\n    // 标准模式取 documentElement\n    // backcompat 取 body\n    return doc.compatMode === 'CSS1Compat' && documentElementProp || body && body[prop] || documentElementProp;\n  };\n});\n\n/*\n 得到元素的大小信息\n @param elem\n @param name\n @param {String} [extra]  'padding' : (css width) + padding\n 'border' : (css width) + padding + border\n 'margin' : (css width) + padding + border + margin\n */\nfunction getWH(elem, name, ex) {\n  var extra = ex;\n  if (isWindow(elem)) {\n    return name === 'width' ? domUtils.viewportWidth(elem) : domUtils.viewportHeight(elem);\n  } else if (elem.nodeType === 9) {\n    return name === 'width' ? domUtils.docWidth(elem) : domUtils.docHeight(elem);\n  }\n  var which = name === 'width' ? ['Left', 'Right'] : ['Top', 'Bottom'];\n  var borderBoxValue = name === 'width' ? elem.offsetWidth : elem.offsetHeight;\n  var computedStyle = getComputedStyleX(elem);\n  var isBorderBox = isBorderBoxFn(elem, computedStyle);\n  var cssBoxValue = 0;\n  if (borderBoxValue === null || borderBoxValue === undefined || borderBoxValue <= 0) {\n    borderBoxValue = undefined;\n    // Fall back to computed then un computed css if necessary\n    cssBoxValue = getComputedStyleX(elem, name);\n    if (cssBoxValue === null || cssBoxValue === undefined || Number(cssBoxValue) < 0) {\n      cssBoxValue = elem.style[name] || 0;\n    }\n    // Normalize '', auto, and prepare for extra\n    cssBoxValue = parseFloat(cssBoxValue) || 0;\n  }\n  if (extra === undefined) {\n    extra = isBorderBox ? BORDER_INDEX : CONTENT_INDEX;\n  }\n  var borderBoxValueOrIsBorderBox = borderBoxValue !== undefined || isBorderBox;\n  var val = borderBoxValue || cssBoxValue;\n  if (extra === CONTENT_INDEX) {\n    if (borderBoxValueOrIsBorderBox) {\n      return val - getPBMWidth(elem, ['border', 'padding'], which, computedStyle);\n    }\n    return cssBoxValue;\n  } else if (borderBoxValueOrIsBorderBox) {\n    if (extra === BORDER_INDEX) {\n      return val;\n    }\n    return val + (extra === PADDING_INDEX ? -getPBMWidth(elem, ['border'], which, computedStyle) : getPBMWidth(elem, ['margin'], which, computedStyle));\n  }\n  return cssBoxValue + getPBMWidth(elem, BOX_MODELS.slice(extra), which, computedStyle);\n}\n\nvar cssShow = {\n  position: 'absolute',\n  visibility: 'hidden',\n  display: 'block'\n};\n\n// fix #119 : https://github.com/kissyteam/kissy/issues/119\nfunction getWHIgnoreDisplay() {\n  for (var _len = arguments.length, args = Array(_len), _key2 = 0; _key2 < _len; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  var val = void 0;\n  var elem = args[0];\n  // in case elem is window\n  // elem.offsetWidth === undefined\n  if (elem.offsetWidth !== 0) {\n    val = getWH.apply(undefined, args);\n  } else {\n    swap(elem, cssShow, function () {\n      val = getWH.apply(undefined, args);\n    });\n  }\n  return val;\n}\n\neach(['width', 'height'], function (name) {\n  var first = name.charAt(0).toUpperCase() + name.slice(1);\n  domUtils['outer' + first] = function (el, includeMargin) {\n    return el && getWHIgnoreDisplay(el, name, includeMargin ? MARGIN_INDEX : BORDER_INDEX);\n  };\n  var which = name === 'width' ? ['Left', 'Right'] : ['Top', 'Bottom'];\n\n  domUtils[name] = function (elem, v) {\n    var val = v;\n    if (val !== undefined) {\n      if (elem) {\n        var computedStyle = getComputedStyleX(elem);\n        var isBorderBox = isBorderBoxFn(elem);\n        if (isBorderBox) {\n          val += getPBMWidth(elem, ['padding', 'border'], which, computedStyle);\n        }\n        return css(elem, name, val);\n      }\n      return undefined;\n    }\n    return elem && getWHIgnoreDisplay(elem, name, CONTENT_INDEX);\n  };\n});\n\nfunction mix(to, from) {\n  for (var i in from) {\n    if (from.hasOwnProperty(i)) {\n      to[i] = from[i];\n    }\n  }\n  return to;\n}\n\nvar utils = {\n  getWindow: function getWindow(node) {\n    if (node && node.document && node.setTimeout) {\n      return node;\n    }\n    var doc = node.ownerDocument || node;\n    return doc.defaultView || doc.parentWindow;\n  },\n  offset: function offset(el, value, option) {\n    if (typeof value !== 'undefined') {\n      setOffset(el, value, option || {});\n    } else {\n      return getOffset(el);\n    }\n  },\n\n  isWindow: isWindow,\n  each: each,\n  css: css,\n  clone: function clone(obj) {\n    var i = void 0;\n    var ret = {};\n    for (i in obj) {\n      if (obj.hasOwnProperty(i)) {\n        ret[i] = obj[i];\n      }\n    }\n    var overflow = obj.overflow;\n    if (overflow) {\n      for (i in obj) {\n        if (obj.hasOwnProperty(i)) {\n          ret.overflow[i] = obj.overflow[i];\n        }\n      }\n    }\n    return ret;\n  },\n\n  mix: mix,\n  getWindowScrollLeft: function getWindowScrollLeft(w) {\n    return getScrollLeft(w);\n  },\n  getWindowScrollTop: function getWindowScrollTop(w) {\n    return getScrollTop(w);\n  },\n  merge: function merge() {\n    var ret = {};\n\n    for (var _len2 = arguments.length, args = Array(_len2), _key3 = 0; _key3 < _len2; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      utils.mix(ret, args[i]);\n    }\n    return ret;\n  },\n\n  viewportWidth: 0,\n  viewportHeight: 0\n};\n\nmix(utils, domUtils);\n\nexports[\"default\"] = utils;\nmodule.exports = exports['default'];"]}