{"version":3,"sources":["node_modules/history/lib/createMemoryHistory.js"],"names":["exports","__esModule","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_warning","require","_warning2","_interopRequireDefault","_invariant","_invariant2","_LocationUtils","_PathUtils","_createHistory","_createHistory2","_Actions","obj","default","createStateStorage","entries","filter","entry","state","reduce","memo","createMemoryHistory","options","undefined","Array","isArray","getCurrentLocation","current","path","createPath","readState","init","parsePath","createLocation","canGo","n","index","go","process","env","NODE_ENV","currentLocation","history","transitionTo","action","POP","pushLocation","location","splice","push","saveState","replaceLocation","_options","map","storage"],"mappings":"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","file":"createMemoryHistory.js","sourceRoot":"/Users/creator/workspace/furuida","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _LocationUtils = require('./LocationUtils');\n\nvar _PathUtils = require('./PathUtils');\n\nvar _createHistory = require('./createHistory');\n\nvar _createHistory2 = _interopRequireDefault(_createHistory);\n\nvar _Actions = require('./Actions');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar createStateStorage = function createStateStorage(entries) {\n  return entries.filter(function (entry) {\n    return entry.state;\n  }).reduce(function (memo, entry) {\n    memo[entry.key] = entry.state;\n    return memo;\n  }, {});\n};\n\nvar createMemoryHistory = function createMemoryHistory() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  if (Array.isArray(options)) {\n    options = { entries: options };\n  } else if (typeof options === 'string') {\n    options = { entries: [options] };\n  }\n\n  var getCurrentLocation = function getCurrentLocation() {\n    var entry = entries[current];\n    var path = (0, _PathUtils.createPath)(entry);\n\n    var key = void 0,\n        state = void 0;\n    if (entry.key) {\n      key = entry.key;\n      state = readState(key);\n    }\n\n    var init = (0, _PathUtils.parsePath)(path);\n\n    return (0, _LocationUtils.createLocation)(_extends({}, init, { state: state }), undefined, key);\n  };\n\n  var canGo = function canGo(n) {\n    var index = current + n;\n    return index >= 0 && index < entries.length;\n  };\n\n  var go = function go(n) {\n    if (!n) return;\n\n    if (!canGo(n)) {\n      process.env.NODE_ENV !== 'production' ? (0, _warning2.default)(false, 'Cannot go(%s) there is not enough history', n) : void 0;\n\n      return;\n    }\n\n    current += n;\n    var currentLocation = getCurrentLocation();\n\n    // Change action to POP\n    history.transitionTo(_extends({}, currentLocation, { action: _Actions.POP }));\n  };\n\n  var pushLocation = function pushLocation(location) {\n    current += 1;\n\n    if (current < entries.length) entries.splice(current);\n\n    entries.push(location);\n\n    saveState(location.key, location.state);\n  };\n\n  var replaceLocation = function replaceLocation(location) {\n    entries[current] = location;\n    saveState(location.key, location.state);\n  };\n\n  var history = (0, _createHistory2.default)(_extends({}, options, {\n    getCurrentLocation: getCurrentLocation,\n    pushLocation: pushLocation,\n    replaceLocation: replaceLocation,\n    go: go\n  }));\n\n  var _options = options,\n      entries = _options.entries,\n      current = _options.current;\n\n\n  if (typeof entries === 'string') {\n    entries = [entries];\n  } else if (!Array.isArray(entries)) {\n    entries = ['/'];\n  }\n\n  entries = entries.map(function (entry) {\n    return (0, _LocationUtils.createLocation)(entry);\n  });\n\n  if (current == null) {\n    current = entries.length - 1;\n  } else {\n    !(current >= 0 && current < entries.length) ? process.env.NODE_ENV !== 'production' ? (0, _invariant2.default)(false, 'Current index must be >= 0 and < %s, was %s', entries.length, current) : (0, _invariant2.default)(false) : void 0;\n  }\n\n  var storage = createStateStorage(entries);\n\n  var saveState = function saveState(key, state) {\n    return storage[key] = state;\n  };\n\n  var readState = function readState(key) {\n    return storage[key];\n  };\n\n  return _extends({}, history, {\n    canGo: canGo\n  });\n};\n\nexports.default = createMemoryHistory;"]}