{"version":3,"sources":["node_modules/history/lib/BrowserProtocol.js"],"names":["exports","__esModule","go","replaceLocation","pushLocation","startListener","getUserConfirmation","getCurrentLocation","undefined","_LocationUtils","require","_DOMUtils","_DOMStateStorage","_PathUtils","_ExecutionEnvironment","PopStateEvent","HashChangeEvent","needsHashchangeListener","canUseDOM","supportsPopstateOnHashchange","_createLocation","historyState","key","createLocation","pathname","window","location","search","hash","state","readState","history","error","message","callback","confirm","listener","handlePopState","event","isExtraneousPopstateEvent","addEventListener","handleUnpoppedHashChange","removeEventListener","updateLocation","updateState","saveState","createPath","path","pushState","replaceState","n"],"mappings":"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","file":"BrowserProtocol.js","sourceRoot":"/Users/creator/workspace/furuida","sourcesContent":["'use strict';\n\nexports.__esModule = true;\nexports.go = exports.replaceLocation = exports.pushLocation = exports.startListener = exports.getUserConfirmation = exports.getCurrentLocation = undefined;\n\nvar _LocationUtils = require('./LocationUtils');\n\nvar _DOMUtils = require('./DOMUtils');\n\nvar _DOMStateStorage = require('./DOMStateStorage');\n\nvar _PathUtils = require('./PathUtils');\n\nvar _ExecutionEnvironment = require('./ExecutionEnvironment');\n\nvar PopStateEvent = 'popstate';\nvar HashChangeEvent = 'hashchange';\n\nvar needsHashchangeListener = _ExecutionEnvironment.canUseDOM && !(0, _DOMUtils.supportsPopstateOnHashchange)();\n\nvar _createLocation = function _createLocation(historyState) {\n  var key = historyState && historyState.key;\n\n  return (0, _LocationUtils.createLocation)({\n    pathname: window.location.pathname,\n    search: window.location.search,\n    hash: window.location.hash,\n    state: key ? (0, _DOMStateStorage.readState)(key) : undefined\n  }, undefined, key);\n};\n\nvar getCurrentLocation = exports.getCurrentLocation = function getCurrentLocation() {\n  var historyState = void 0;\n  try {\n    historyState = window.history.state || {};\n  } catch (error) {\n    // IE 11 sometimes throws when accessing window.history.state\n    // See https://github.com/ReactTraining/history/pull/289\n    historyState = {};\n  }\n\n  return _createLocation(historyState);\n};\n\nvar getUserConfirmation = exports.getUserConfirmation = function getUserConfirmation(message, callback) {\n  return callback(window.confirm(message));\n}; // eslint-disable-line no-alert\n\nvar startListener = exports.startListener = function startListener(listener) {\n  var handlePopState = function handlePopState(event) {\n    if ((0, _DOMUtils.isExtraneousPopstateEvent)(event)) // Ignore extraneous popstate events in WebKit\n      return;\n    listener(_createLocation(event.state));\n  };\n\n  (0, _DOMUtils.addEventListener)(window, PopStateEvent, handlePopState);\n\n  var handleUnpoppedHashChange = function handleUnpoppedHashChange() {\n    return listener(getCurrentLocation());\n  };\n\n  if (needsHashchangeListener) {\n    (0, _DOMUtils.addEventListener)(window, HashChangeEvent, handleUnpoppedHashChange);\n  }\n\n  return function () {\n    (0, _DOMUtils.removeEventListener)(window, PopStateEvent, handlePopState);\n\n    if (needsHashchangeListener) {\n      (0, _DOMUtils.removeEventListener)(window, HashChangeEvent, handleUnpoppedHashChange);\n    }\n  };\n};\n\nvar updateLocation = function updateLocation(location, updateState) {\n  var state = location.state,\n      key = location.key;\n\n\n  if (state !== undefined) (0, _DOMStateStorage.saveState)(key, state);\n\n  updateState({ key: key }, (0, _PathUtils.createPath)(location));\n};\n\nvar pushLocation = exports.pushLocation = function pushLocation(location) {\n  return updateLocation(location, function (state, path) {\n    return window.history.pushState(state, null, path);\n  });\n};\n\nvar replaceLocation = exports.replaceLocation = function replaceLocation(location) {\n  return updateLocation(location, function (state, path) {\n    return window.history.replaceState(state, null, path);\n  });\n};\n\nvar go = exports.go = function go(n) {\n  if (n) window.history.go(n);\n};"]}