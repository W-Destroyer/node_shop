{"version":3,"sources":["public/src/js_components/react-router/modules/Router.js"],"names":["PropTypes","func","object","Router","createClass","propTypes","history","children","routes","render","createElement","onError","onUpdate","matchContext","getDefaultProps","props","getInitialState","location","params","components","handleError","error","call","createRouterObject","state","router","transitionManager","createTransitionManager","getCurrentLocation","componentWillMount","_unlisten","listen","setState","componentWillReceiveProps","nextProps","componentWillUnmount","Object","keys","forEach","propType"],"mappings":"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","file":"Router.js","sourceRoot":"/Users/creator/workspace/furuida","sourcesContent":["import invariant from 'invariant'\nimport React from 'react'\n\nimport createTransitionManager from './createTransitionManager'\nimport { routes } from './InternalPropTypes'\nimport RouterContext from './RouterContext'\nimport { createRoutes } from './RouteUtils'\nimport { createRouterObject, assignRouterState } from './RouterUtils'\nimport warning from './routerWarning'\n\nconst { func, object } = React.PropTypes\n\n/**\n * A <Router> is a high-level API for automatically setting up\n * a router that renders a <RouterContext> with all the props\n * it needs each time the URL changes.\n */\nconst Router = React.createClass({\n\n  propTypes: {\n    history: object,\n    children: routes,\n    routes, // alias for children\n    render: func,\n    createElement: func,\n    onError: func,\n    onUpdate: func,\n\n    // PRIVATE: For client-side rehydration of server match.\n    matchContext: object\n  },\n\n  getDefaultProps() {\n    return {\n      render(props) {\n        return <RouterContext {...props} />\n      }\n    }\n  },\n\n  getInitialState() {\n    return {\n      location: null,\n      routes: null,\n      params: null,\n      components: null\n    }\n  },\n\n  handleError(error) {\n    if (this.props.onError) {\n      this.props.onError.call(this, error)\n    } else {\n      // Throw errors by default so we don't silently swallow them!\n      throw error // This error probably occurred in getChildRoutes or getComponents.\n    }\n  },\n\n  createRouterObject(state) {\n    const { matchContext } = this.props\n    if (matchContext) {\n      return matchContext.router\n    }\n\n    const { history } = this.props\n    return createRouterObject(history, this.transitionManager, state)\n  },\n\n  createTransitionManager() {\n    const { matchContext } = this.props\n    if (matchContext) {\n      return matchContext.transitionManager\n    }\n\n    const { history } = this.props\n    const { routes, children } = this.props\n\n    invariant(\n      history.getCurrentLocation,\n      'You have provided a history object created with history v4.x or v2.x ' +\n        'and earlier. This version of React Router is only compatible with v3 ' +\n        'history objects. Please change to history v3.x.'\n    )\n\n    return createTransitionManager(\n      history,\n      createRoutes(routes || children)\n    )\n  },\n\n  componentWillMount() {\n    this.transitionManager = this.createTransitionManager()\n    this.router = this.createRouterObject(this.state)\n\n    this._unlisten = this.transitionManager.listen((error, state) => {\n      if (error) {\n        this.handleError(error)\n      } else {\n        // Keep the identity of this.router because of a caveat in ContextUtils:\n        // they only work if the object identity is preserved.\n        assignRouterState(this.router, state)\n        this.setState(state, this.props.onUpdate)\n      }\n    })\n  },\n\n  /* istanbul ignore next: sanity check */\n  componentWillReceiveProps(nextProps) {\n    warning(\n      nextProps.history === this.props.history,\n      'You cannot change <Router history>; it will be ignored'\n    )\n\n    warning(\n      (nextProps.routes || nextProps.children) ===\n        (this.props.routes || this.props.children),\n      'You cannot change <Router routes>; it will be ignored'\n    )\n  },\n\n  componentWillUnmount() {\n    if (this._unlisten)\n      this._unlisten()\n  },\n\n  render() {\n    const { location, routes, params, components } = this.state\n    const { createElement, render, ...props } = this.props\n\n    if (location == null)\n      return null // Async match\n\n    // Only forward non-Router-specific props to routing context, as those are\n    // the only ones that might be custom routing context props.\n    Object.keys(Router.propTypes).forEach(propType => delete props[propType])\n\n    return render({\n      ...props,\n      router: this.router,\n      location,\n      routes,\n      params,\n      components,\n      createElement\n    })\n  }\n\n})\n\nexport default Router\n"]}