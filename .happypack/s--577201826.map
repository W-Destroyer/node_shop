{"version":3,"sources":["node_modules/rc-util/lib/getContainerRenderMixin.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","getContainerRenderMixin","_reactDom","require","_reactDom2","_interopRequireDefault","obj","__esModule","defaultGetContainer","container","document","createElement","body","appendChild","config","_config$autoMount","autoMount","undefined","_config$autoDestroy","autoDestroy","isVisible","getComponent","_config$getContainer","getContainer","mixin","_renderComponent","instance","componentArg","ready","_component","_container","component","unstable_renderSubtreeIntoContainer","callback","componentDidMount","componentDidUpdate","renderComponent","_removeContainer","unmountComponentAtNode","parentNode","removeChild","componentWillUnmount","removeContainer","module"],"mappings":"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","file":"getContainerRenderMixin.js","sourceRoot":"/Users/creator/workspace/furuida","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports[\"default\"] = getContainerRenderMixin;\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction defaultGetContainer() {\n  var container = document.createElement('div');\n  document.body.appendChild(container);\n  return container;\n}\n\nfunction getContainerRenderMixin(config) {\n  var _config$autoMount = config.autoMount,\n      autoMount = _config$autoMount === undefined ? true : _config$autoMount,\n      _config$autoDestroy = config.autoDestroy,\n      autoDestroy = _config$autoDestroy === undefined ? true : _config$autoDestroy,\n      isVisible = config.isVisible,\n      getComponent = config.getComponent,\n      _config$getContainer = config.getContainer,\n      getContainer = _config$getContainer === undefined ? defaultGetContainer : _config$getContainer;\n\n\n  var mixin = void 0;\n\n  function _renderComponent(instance, componentArg, ready) {\n    if (!isVisible || instance._component || isVisible(instance)) {\n      if (!instance._container) {\n        instance._container = getContainer(instance);\n      }\n      var component = void 0;\n      if (instance.getComponent) {\n        component = instance.getComponent(componentArg);\n      } else {\n        component = getComponent(instance, componentArg);\n      }\n      _reactDom2[\"default\"].unstable_renderSubtreeIntoContainer(instance, component, instance._container, function callback() {\n        instance._component = this;\n        if (ready) {\n          ready.call(this);\n        }\n      });\n    }\n  }\n\n  if (autoMount) {\n    mixin = _extends({}, mixin, {\n      componentDidMount: function componentDidMount() {\n        _renderComponent(this);\n      },\n      componentDidUpdate: function componentDidUpdate() {\n        _renderComponent(this);\n      }\n    });\n  }\n\n  if (!autoMount || !autoDestroy) {\n    mixin = _extends({}, mixin, {\n      renderComponent: function renderComponent(componentArg, ready) {\n        _renderComponent(this, componentArg, ready);\n      }\n    });\n  }\n\n  function _removeContainer(instance) {\n    if (instance._container) {\n      var container = instance._container;\n      _reactDom2[\"default\"].unmountComponentAtNode(container);\n      container.parentNode.removeChild(container);\n      instance._container = null;\n    }\n  }\n\n  if (autoDestroy) {\n    mixin = _extends({}, mixin, {\n      componentWillUnmount: function componentWillUnmount() {\n        _removeContainer(this);\n      }\n    });\n  } else {\n    mixin = _extends({}, mixin, {\n      removeContainer: function removeContainer() {\n        _removeContainer(this);\n      }\n    });\n  }\n\n  return mixin;\n}\nmodule.exports = exports['default'];"]}