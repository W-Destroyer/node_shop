{"version":3,"sources":["node_modules/dom-align/lib/adjustForViewport.js"],"names":["Object","defineProperty","exports","value","_utils","require","_utils2","_interopRequireDefault","obj","__esModule","adjustForViewport","elFuturePos","elRegion","visibleRect","overflow","pos","clone","size","width","height","adjustX","left","resizeWidth","right","Math","max","adjustY","top","resizeHeight","bottom","mix","module"],"mappings":"AAAA;;AAEAA,OAAOC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,SAAO;AADoC,CAA7C;;AAIA,IAAIC,SAASC,QAAQ,SAAR,CAAb;;AAEA,IAAIC,UAAUC,uBAAuBH,MAAvB,CAAd;;AAEA,SAASG,sBAAT,CAAgCC,GAAhC,EAAqC;AAAE,SAAOA,OAAOA,IAAIC,UAAX,GAAwBD,GAAxB,GAA8B,EAAE,WAAWA,GAAb,EAArC;AAA0D;;AAEjG,SAASE,iBAAT,CAA2BC,WAA3B,EAAwCC,QAAxC,EAAkDC,WAAlD,EAA+DC,QAA/D,EAAyE;AACvE,MAAIC,MAAMT,QAAQ,SAAR,EAAmBU,KAAnB,CAAyBL,WAAzB,CAAV;AACA,MAAIM,OAAO;AACTC,WAAON,SAASM,KADP;AAETC,YAAQP,SAASO;AAFR,GAAX;;AAKA,MAAIL,SAASM,OAAT,IAAoBL,IAAIM,IAAJ,GAAWR,YAAYQ,IAA/C,EAAqD;AACnDN,QAAIM,IAAJ,GAAWR,YAAYQ,IAAvB;AACD;;AAED;AACA,MAAIP,SAASQ,WAAT,IAAwBP,IAAIM,IAAJ,IAAYR,YAAYQ,IAAhD,IAAwDN,IAAIM,IAAJ,GAAWJ,KAAKC,KAAhB,GAAwBL,YAAYU,KAAhG,EAAuG;AACrGN,SAAKC,KAAL,IAAcH,IAAIM,IAAJ,GAAWJ,KAAKC,KAAhB,GAAwBL,YAAYU,KAAlD;AACD;;AAED;AACA,MAAIT,SAASM,OAAT,IAAoBL,IAAIM,IAAJ,GAAWJ,KAAKC,KAAhB,GAAwBL,YAAYU,KAA5D,EAAmE;AACjE;AACAR,QAAIM,IAAJ,GAAWG,KAAKC,GAAL,CAASZ,YAAYU,KAAZ,GAAoBN,KAAKC,KAAlC,EAAyCL,YAAYQ,IAArD,CAAX;AACD;;AAED;AACA,MAAIP,SAASY,OAAT,IAAoBX,IAAIY,GAAJ,GAAUd,YAAYc,GAA9C,EAAmD;AACjDZ,QAAIY,GAAJ,GAAUd,YAAYc,GAAtB;AACD;;AAED;AACA,MAAIb,SAASc,YAAT,IAAyBb,IAAIY,GAAJ,IAAWd,YAAYc,GAAhD,IAAuDZ,IAAIY,GAAJ,GAAUV,KAAKE,MAAf,GAAwBN,YAAYgB,MAA/F,EAAuG;AACrGZ,SAAKE,MAAL,IAAeJ,IAAIY,GAAJ,GAAUV,KAAKE,MAAf,GAAwBN,YAAYgB,MAAnD;AACD;;AAED;AACA,MAAIf,SAASY,OAAT,IAAoBX,IAAIY,GAAJ,GAAUV,KAAKE,MAAf,GAAwBN,YAAYgB,MAA5D,EAAoE;AAClE;AACAd,QAAIY,GAAJ,GAAUH,KAAKC,GAAL,CAASZ,YAAYgB,MAAZ,GAAqBZ,KAAKE,MAAnC,EAA2CN,YAAYc,GAAvD,CAAV;AACD;;AAED,SAAOrB,QAAQ,SAAR,EAAmBwB,GAAnB,CAAuBf,GAAvB,EAA4BE,IAA5B,CAAP;AACD;;AAEDf,QAAQ,SAAR,IAAqBQ,iBAArB;AACAqB,OAAO7B,OAAP,GAAiBA,QAAQ,SAAR,CAAjB","file":"adjustForViewport.js","sourceRoot":"/Users/creator/workspace/furuida","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = require('./utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction adjustForViewport(elFuturePos, elRegion, visibleRect, overflow) {\n  var pos = _utils2[\"default\"].clone(elFuturePos);\n  var size = {\n    width: elRegion.width,\n    height: elRegion.height\n  };\n\n  if (overflow.adjustX && pos.left < visibleRect.left) {\n    pos.left = visibleRect.left;\n  }\n\n  // Left edge inside and right edge outside viewport, try to resize it.\n  if (overflow.resizeWidth && pos.left >= visibleRect.left && pos.left + size.width > visibleRect.right) {\n    size.width -= pos.left + size.width - visibleRect.right;\n  }\n\n  // Right edge outside viewport, try to move it.\n  if (overflow.adjustX && pos.left + size.width > visibleRect.right) {\n    // 保证左边界和可视区域左边界对齐\n    pos.left = Math.max(visibleRect.right - size.width, visibleRect.left);\n  }\n\n  // Top edge outside viewport, try to move it.\n  if (overflow.adjustY && pos.top < visibleRect.top) {\n    pos.top = visibleRect.top;\n  }\n\n  // Top edge inside and bottom edge outside viewport, try to resize it.\n  if (overflow.resizeHeight && pos.top >= visibleRect.top && pos.top + size.height > visibleRect.bottom) {\n    size.height -= pos.top + size.height - visibleRect.bottom;\n  }\n\n  // Bottom edge outside viewport, try to move it.\n  if (overflow.adjustY && pos.top + size.height > visibleRect.bottom) {\n    // 保证上边界和可视区域上边界对齐\n    pos.top = Math.max(visibleRect.bottom - size.height, visibleRect.top);\n  }\n\n  return _utils2[\"default\"].mix(pos, size);\n}\n\nexports[\"default\"] = adjustForViewport;\nmodule.exports = exports['default'];"]}